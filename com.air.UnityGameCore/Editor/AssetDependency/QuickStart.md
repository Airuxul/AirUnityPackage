# 快速入门指南

## 5分钟上手资源依赖查询工具

### 方式一：使用主窗口（推荐）

1. **打开工具**
   - 点击Unity菜单：`Tools > 资源依赖查询工具`

2. **选择资源**
   - 将任意资源拖入"选择资源"框
   - 或点击圆形按钮从弹出窗口选择

3. **查询依赖**
   - 点击"查询依赖"按钮：查看该资源依赖哪些其他资源
   - 点击"查询反向依赖"按钮：查看哪些资源依赖该资源

4. **操作结果**
   - 点击"选择"按钮：在Project窗口选中该资源
   - 点击"定位"按钮：在Project窗口高亮显示该资源

### 方式二：使用右键菜单（最快）

1. 在Project窗口中右键点击任意资源
2. 选择 `资源依赖 > 查看依赖关系`
3. 工具窗口自动打开并加载该资源

### 方式三：使用树形视图（最直观）

1. **打开工具**
   - 点击Unity菜单：`Tools > 资源依赖树形视图`

2. **选择资源并分析**
   - 选择目标资源
   - 设置"最大深度"（建议3-5层）
   - 点击"重新分析"

3. **查看结果**
   - 树形结构展示所有依赖关系
   - 黄色高亮表示循环依赖
   - 双击节点定位资源
   - 右键节点查看更多操作

4. **导出报告**
   - 点击"导出文本"按钮
   - 选择保存位置
   - 生成文本格式的依赖树报告

## 常见使用场景

### 场景1：删除资源前检查
```
问题：我想删除某个材质球，但不确定是否有其他资源在使用它
解决：
1. 右键点击材质球
2. 选择"资源依赖 > 打印反向依赖到控制台"
3. 查看Console输出，确认没有其他资源依赖它再删除
```

### 场景2：查找资源引用的纹理
```
问题：某个预制体文件太大，想知道它引用了哪些纹理
解决：
1. 打开"资源依赖查询工具"
2. 拖入预制体文件
3. 点击"查询依赖"
4. 结果会按文件类型分组，找到.png/.jpg分组查看所有纹理
```

### 场景3：分析预制体嵌套依赖
```
问题：想了解一个预制体的完整依赖层级
解决：
1. 打开"资源依赖树形视图"
2. 选择该预制体
3. 设置最大深度为5
4. 点击"重新分析"
5. 树形结构清晰展示多层嵌套关系
6. 点击"导出文本"保存分析结果
```

### 场景4：检测循环依赖
```
问题：怀疑某些资源存在循环引用
解决：
1. 打开"资源依赖树形视图"
2. 选择可疑资源
3. 分析后，循环依赖会用黄色高亮显示
4. 标记为"[循环依赖]"
```

## 高级技巧

### 技巧1：批量检查
在Console中批量查看多个资源的依赖：
1. 选中多个资源（按住Ctrl/Cmd）
2. 右键选择"打印依赖到控制台"
3. 逐个查看每个资源的依赖信息

### 技巧2：递归vs非递归
- **递归查询**：查看所有间接依赖（完整依赖链）
- **非递归查询**：只看直接依赖（一级依赖）
- 建议先用非递归了解直接依赖，需要深入时再用递归

### 技巧3：结合搜索
在树形视图中：
1. 点击搜索框
2. 输入资源名称关键词
3. 快速定位到树中的特定节点

### 技巧4：对比分析
打开多个树形视图窗口，对比不同资源的依赖结构：
1. 打开第一个树形视图分析资源A
2. 在树节点上右键选择"在新窗口中分析"
3. 可同时查看多个资源的依赖树

## 性能建议

| 操作 | 速度 | 建议 |
|-----|------|------|
| 依赖查询 | 快 | 随时使用 |
| 反向依赖查询 | 较慢 | 大型项目谨慎使用 |
| 树形视图（深度1-3） | 快 | 日常使用 |
| 树形视图（深度4-7） | 中等 | 需要详细分析时使用 |
| 树形视图（深度8+） | 慢 | 仅在必要时使用 |

## 快捷键（建议设置）

虽然工具本身没有预设快捷键，但你可以通过以下方式提高效率：

1. 将常用的菜单项添加到Unity的快捷键设置中
2. 使用Favorites功能将工具窗口固定
3. 创建自定义工具栏按钮

## 故障排除

### 问题：反向依赖查询很慢
**原因**：需要遍历项目中所有资源  
**解决**：
- 等待完成（会显示进度条）
- 或先清理项目中的无用资源
- 考虑使用"打印到控制台"代替窗口显示

### 问题：树形视图显示不完整
**原因**：达到设置的最大深度限制  
**解决**：增加"最大深度"设置并重新分析

### 问题：找不到某个资源
**原因**：该资源可能是内置资源  
**解决**：工具会自动过滤Unity内置资源，这是正常现象

## 下一步

- 查看 [README.md](README.md) 了解完整功能说明
- 探索右键菜单的更多功能
- 尝试导出依赖报告功能
- 在实际项目中使用工具进行资源优化

---

**提示**：建议将此工具窗口固定在Unity编辑器的某个位置，方便随时使用！


